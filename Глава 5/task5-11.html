<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Задание 1
        alert(new Date(2012, 01, 20, 3, 12));

        // Задание 2
        function getWeekDay(date) {
            let weekDay = date.getDay();
            switch (weekDay) {
                case 1: 
                    return 'ПН';
                case 2: 
                    return 'ВТ';
                case 3: 
                    return 'СР';
                case 4: 
                    return 'ЧТ';
                case 5: 
                    return 'ПТ';
                case 6: 
                    return 'СБ';
                case 0: 
                    return 'ВС';
            }
        }

        let date1 = new Date(2012, 0, 3);  // 3 января 2012 года
        alert( getWeekDay(date1) );        // нужно вывести "ВТ"

        // Задание 3
        function getLocalDay(date) {
            let num = date.getDay();
            num = (num === 0) ? 7 : num;
            return num;
        }

        let date2 = new Date(2012, 0, 3);  // 3 января 2012 года
        alert( getLocalDay(date2) );

        // Задание 4
        function getDateAgo(date, days) {
            let timeStamp = date.getTime() - days * 1000 * 3600 * 24;
            return new Date(timeStamp).getDate();
        }

        let date = new Date(2015, 0, 2);

        alert( getDateAgo(date, 1) ); // 1, (1 Jan 2015)
        alert( getDateAgo(date, 2) ); // 31, (31 Dec 2014)
        alert( getDateAgo(date, 365) ); // 2, (2 Jan 2014)

        // Задание 5
        function getLastDayOfMonth(year, month) {
            let date = new Date(year, month + 1); // Получаем первое число следующего месяца
            date = new Date(date - (1000 * 3600 * 24)); // Вычитаем один день от первого числа
            return date.getDate();
        }

        alert(getLastDayOfMonth(2012, 3));

        // Задание 6
        function getSecondsToday() {
            return Math.round((new Date() - new Date().setHours(0, 0, 0, 0)) / 1000);
        }

        alert(getSecondsToday());

        // Задание 7
        function getSecondsToTomorrow() {
            let nowSeconds = Math.round((new Date() - new Date().setHours(0, 0, 0, 0)) / 1000);
            let daySeconds = 24 * 3600;
            return daySeconds - nowSeconds;
        }
        alert(getSecondsToTomorrow());

        // Задание 8
        function formatDate(date) {
            let dateDiff = (new Date() - date) / 1000;
            if(dateDiff < 1) {
                return 'прямо сейчас';
            }
            if(dateDiff < 60) {
                return `${dateDiff} сек. назад`;
            }
            if(dateDiff < 3600) {
                return `${Math.floor(dateDiff / 60)} мин. назад`;
            }
            let day = ('0' + date.getDate()).slice(-2);
            let month = ('0' + date.getMonth()).slice(-2);
            let year = (date.getFullYear() + '').slice(2);
            let hours = ('0' + date.getHours()).slice(-2);
            let minutes = ('0' + date.getMinutes()).slice(-2);
            return `${day}.${month}.${year} ${hours}:${minutes}`;
        }

        alert( formatDate(new Date(new Date - 1)) ); // "прямо сейчас"
        alert( formatDate(new Date(new Date - 30 * 1000)) ); // "30 сек. назад"
        alert( formatDate(new Date(new Date - 5 * 60 * 1000)) ); // "5 мин. назад"
        // вчерашняя дата вроде 31.12.2016, 20:00
        alert( formatDate(new Date(new Date - 86400 * 1000)) );
    </script>
</body>
</html>